<!DOCTYPE html>
<meta charset="utf-8">
<title>Brandon Frohs // 19.codes</title>
<style type="text/css">
	html {
		margin: 0;
		padding: 0;
	}
	@page {
		margin: 0;
	}
	body {
		padding: 0;
		display: flex;
		flex-wrap: wrap;
	}
	iframe {
		margin:0;
		border:0;
	}
</style>
<script>
	function init () {
		var iframe = window.document.createElement("iframe"),
			params = new URLSearchParams(window.location.search.substr(1)),
			count = Math.max(1, Math.min(100, parseInt(params.get("count"))) || 10),
			width = params.get("width") || '',
			height = params.get("height") || '',
			margin = params.get("margin") || '';

		// Verify actual (useful) lengths are specified
		if (!width.match(/^(?:\d+|\d*\.\d+)(?:cm|in|mm)$/)) width = '3.5in';
		if (!height.match(/^(?:\d+|\d*\.\d+)(?:cm|in|mm)$/)) height = '2in';
		if (!margin.match(/^((?:\d+|\d*\.\d+)(?:cm|in|mm)(\s+|$))+$/)) margin = '.5in .75in';

		iframe.setAttribute("src", "index.html");
		iframe.setAttribute("style", "width:" + width + ";height:" + height);

		document.body.setAttribute("style", "margin:" + margin);
		for (i = 0; i < count; i += 1) {
			document.body.appendChild(iframe.cloneNode());
		}
	}
	window.onload = init;
</script>
